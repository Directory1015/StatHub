<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>StatSnap — Home</title>
  <meta name="description" content="StatSnap — soccer-first hub with quick links and weekly leaders." />
  <style>
    :root{
      --bg:#0b0d12; --panel:#111724; --panel2:#0f1522; --tx:#e8edf7; --tx-dim:#a6b0c3;
      --brand:#5aa2ff; --accent:#00d2ff; --divider:#27324a;
      --radius:16px; --maxw: 920px;
      --shadow:0 8px 26px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:
        radial-gradient(1100px 520px at 15% -10%, rgba(90,162,255,.14), transparent 60%),
        radial-gradient(820px 520px at 90% 0%, rgba(0,210,255,.10), transparent 55%),
        var(--bg);
      color:var(--tx);
      overflow-x:hidden;
    }
    a{color:inherit; text-decoration:none}

    header{ padding:28px 12px 4px; text-align:center; }
    .shell{max-width:var(--maxw); margin:0 auto; padding:0 12px 18px; width:clamp(300px, 92vw, var(--maxw)); }

    h1{ margin:0 0 6px; font-size: clamp(24px, 4.2vw, 34px); letter-spacing:.2px }
    .tag{ color:var(--tx-dim); margin:0 auto 8px; font-size:13px }

    .grid{ display:grid; gap:12px; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }

    .card{
      background:linear-gradient(180deg, var(--panel), var(--panel2));
      border:1px solid var(--divider); border-radius:var(--radius); box-shadow:var(--shadow);
      display:flex; flex-direction:column;
    }
    .card .hd{
      display:flex; align-items:center; justify-content:space-between; gap:8px;
      padding:10px 12px; border-bottom:1px solid var(--divider);
    }
    .ttl{ font-weight:900; letter-spacing:.3px; font-size:15px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
    .meta{ color:var(--tx-dim); font-size:12px; font-weight:700; white-space:nowrap }

    .record{
      display:flex; gap:6px; align-items:center; padding:8px 10px;
      border-bottom:1px dashed var(--divider); background:rgba(26,33,49,.5);
      font-size:12px; color:var(--tx-dim); flex-wrap:wrap; line-height:1.25;
    }
    .record b{ color:#ffd76a; font-size:13px }

    .cols{ display:grid; grid-template-columns:1fr; gap:8px; padding:8px 10px 10px; }
    .col h4{ margin:0 0 6px; font-size:12px; color:var(--brand); letter-spacing:.3px }

    .list{ display:grid; gap:6px; margin:0; padding:0; list-style:none; counter-reset:item }
    .list li{
      counter-increment:item;
      display:grid; grid-template-columns: 18px 1fr auto; align-items:center; gap:8px;
      background:#121a2a; border:1px solid var(--divider); border-radius:10px; padding:6px 8px;
    }
    .idx{ color:var(--tx-dim); font-weight:900; text-align:right }
    .nm{
      font-weight:800; font-size:12.5px; min-width:0; line-height:1.25;
      overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
    }
    .val{
      font-weight:900; color:#cfe2ff; font-size:12.5px;
      padding:2px 8px; border-radius:8px; border:1px solid var(--divider);
      background:#0f1522; justify-self:end; min-width:24px; text-align:center;
    }

    .muted{ color:var(--tx-dim) }
    footer{ text-align:center; color:var(--tx-dim); padding:18px; font-size:12px }
  </style>
</head>
<body>
  <header>
    <h1>StatSnap</h1>
    <p class="tag">Soccer-first. Quick links to other sports.</p>
  </header>

  <main class="shell">
    <div id="cards" class="grid" aria-live="polite"></div>
  </main>

  <footer>© 2025 StatSnap</footer>

  <!-- Inline fallback data (used only if leaders.json doesn't load) -->
  <script type="application/json" id="leaders-fallback">
  {
    "updated": "2025-09-28",
    "competitions": [
      {
        "key": "epl",
        "name": "Premier League",
        "record": { "holder": "Erling Haaland", "goals": "36", "season": "2022/23" },
        "scorers": [
          { "name": "Erling Haaland (Man City)", "value": "8" },
          { "name": "Antoine Semenyo (Bournemouth)", "value": "4" },
          { "name": "Jaidon Anthony (Burnley)", "value": "4" }
        ],
        "assisters": [
          { "name": "Jack Grealish (Everton)", "value": "4" },
          { "name": "Mohammed Kudus (Tottenham Hotspur)", "value": "4" },
          { "name": "El Hadji Malick Diouf (West Ham United)", "value": "3" }
        ]
      },
      {
        "key": "laliga",
        "name": "La Liga",
        "record": { "holder": "Lionel Messi", "goals": "50", "season": "2011/12" },
        "scorers": [
          { "name": "Kylian Mbappé (Real Madrid)", "value": "8" },
          { "name": "Julián Álvarez (Atl. Madrid)", "value": "6" },
          { "name": "Etta Eyong (Levante)", "value": "4" }
        ],
        "assisters": [
          { "name": "Vinícius Júnior (Real Madrid)", "value": "4" },
          { "name": "Luis Milla (Getafe)", "value": "4" },
          { "name": "Lamine Yamal (Barcelona)", "value": "3" }
        ]
      },
      {
        "key": "seriea",
        "name": "Serie A",
        "record": { "holder": "Ciro Immobile", "goals": "36", "season": "2019/20" },
        "scorers": [
          { "name": "Christian Pulisic (AC Milan)", "value": "4" },
          { "name": "Nico Paz (Como)", "value": "3" },
          { "name": "Marcus Thuram (Inter)", "value": "3" }
        ],
        "assisters": [
          { "name": "Kenan Yıldız (Juventus Turin)", "value": "3" },
          { "name": "Nico Paz (Como 1907)", "value": "3" },
          { "name": "Nikola Krstović (Atalanta Bergamo)", "value": "3" }
        ]
      },
      {
        "key": "bundesliga",
        "name": "Bundesliga",
        "record": { "holder": "Robert Lewandowski", "goals": "41", "season": "2020/21" },
        "scorers": [
          { "name": "Harry Kane (Bayern Munich)", "value": "10" },
          { "name": "Can Uzun (Eintracht Frankfurt)", "value": "5" },
          { "name": "Fisnik Asllani (Hoffenheim)", "value": "4" }
        ],
        "assisters": [
          { "name": "Andrej Ilic (1. FC Union Berlin)", "value": "4" },
          { "name": "Samuel Mbangula (SV Werder Bremen)", "value": "3" },
          { "name": "Ritsu Doan (Eintracht Frankfurt)", "value": "3" }
        ]
      },
      {
        "key": "ligue1",
        "name": "Ligue 1",
        "record": { "holder": "Kylian Mbappé", "goals": "27", "season": "2018/19" },
        "scorers": [
          { "name": "Ansu Fati (Monaco)", "value": "3" },
          { "name": "Pierre-Emerick Aubameyang (Marseille)", "value": "3" },
          { "name": "Bradley Barcola (PSG)", "value": "3" }
        ],
        "assisters": [
          { "name": "Ludovic Ajorque (Stade Brest 29)", "value": "4" },
          { "name": "Dilane Bakwa (RC Strasbourg Alsace)", "value": "3" },
          { "name": "Félix Correia (LOSC Lille)", "value": "3" }
        ]
      },
      {
        "key": "ucl",
        "name": "UEFA Champions League",
        "record": { "holder": "Cristiano Ronaldo", "goals": "17", "season": "2013/14" },
        "scorers": [
          { "name": "Kylian Mbappé (Real Madrid)", "value": "5" },
          { "name": "Francisco Trincão (Sporting CP)", "value": "2" },
          { "name": "Marcos Llorente (Atlético Madrid)", "value": "2" }
        ],
        "assisters": [
          { "name": "Lukáš Provod (Slavia Praha)", "value": "2" },
          { "name": "Hakan Çalhanoğlu (Inter Milan)", "value": "2" },
          { "name": "Lamine Yamal (Barcelona)", "value": "1" }
        ]
      }
    ]
  }
  </script>

  <script>
    const $ = (s, r=document)=>r.querySelector(s);

    async function tryFetchJSON() {
      try {
        const res = await fetch('leaders.json?v=' + Date.now(), { cache: 'no-store' });
        if (!res.ok) throw new Error('HTTP ' + res.status);
        const json = await res.json();
        if (!json || !Array.isArray(json.competitions) || json.competitions.length === 0) {
          throw new Error('leaders.json empty or malformed');
        }
        return json;
      } catch (err) {
        console.warn('Falling back to embedded JSON:', err.message);
        const node = document.getElementById('leaders-fallback');
        try {
          return JSON.parse(node.textContent);
        } catch (e) {
          console.error('Embedded fallback JSON is invalid.', e);
          return { updated: new Date().toISOString().slice(0,10), competitions: [] };
        }
      }
    }

    function render(DATA){
      const wrap = $('#cards');
      if (!DATA.competitions?.length){
        wrap.innerHTML = `<p class="muted">No competitions found. Add data to <code>leaders.json</code>.</p>`;
        return;
      }
      wrap.innerHTML = DATA.competitions.map(c => `
        <section class="card" data-key="${c.key}">
          <div class="hd">
            <div class="ttl">${c.name}</div>
            <div class="meta">${new Date(DATA.updated).toLocaleDateString()}</div>
          </div>

          <div class="record" title="All-Time Single-Season League Record">
            <span>All-time single-season record:&nbsp;</span>
            <b class="nm">${c.record.holder}</b>
            <span class="muted">•</span>
            <span>${c.record.goals}</span>
            <span class="muted">goals</span>
            <span class="muted">•</span>
            <span>${c.record.season}</span>
          </div>

          <div class="cols">
            <div class="col">
              <h4>Current Top 3 Scorers</h4>
              <ol class="list">
                ${c.scorers.map((p,i)=>`
                  <li>
                    <span class="idx">${i+1}.</span>
                    <span class="nm">${p.name}</span>
                    <span class="val">${p.value}</span>
                  </li>
                `).join('')}
              </ol>
            </div>
            <div class="col">
              <h4>Current Top 3 Assisters</h4>
              <ol class="list">
                ${c.assisters.map((p,i)=>`
                  <li>
                    <span class="idx">${i+1}.</span>
                    <span class="nm">${p.name}</span>
                    <span class="val">${p.value}</span>
                  </li>
                `).join('')}
              </ol>
            </div>
          </div>
        </section>
      `).join('');
    }

    tryFetchJSON().then(render);
  </script>
</body>
</html>


